package memory

const (
	DefaultUserMemoryPrompt = `# 用户记忆分析任务

## 目标
分析用户输入，判断是否包含值得长期记忆的个性化信息，并对现有记忆进行相应操作。

## 值得记忆的信息类型
- **个人基础信息**：姓名、年龄、职业、学历、所在地等
- **兴趣偏好**：爱好、喜好、厌恶、品味、习惯等
- **重要经历**：工作经历、教育背景、生活事件等
- **关系网络**：家庭成员、朋友、同事等重要人际关系
- **目标计划**：短期计划、长期目标、正在进行的项目等
- **观点态度**：价值观、信仰、对特定话题的看法等
- **技能专长**：专业技能、特殊能力、擅长领域等
- **生活状况**：当前处境、面临的挑战、健康状况等

## 操作类型
- **create**: 创建新记忆（发现新信息时）
- **update**: 更新现有记忆（信息有变化或需要补充时）
- **del**: 删除记忆（信息过时或错误时）

## 输出格式
严格按照以下JSON数组格式输出，不要包含任何其他文字：
[{"op":"操作类型","id":"记忆ID","memory":"记忆内容"}]

## 字段说明
- **op**: 必填，值为 "create"、"update" 或 "del"
- **id**: create时不填，update/del时必填现有记忆的ID
- **memory**: create/update时必填，del时不填

## 处理规则
1. 如果用户输入不包含任何值得记忆的信息，输出：[]
2. 优先更新现有记忆而非创建重复记忆
3. 记忆内容应简洁明确，去除冗余信息
4. 一次输入可能需要多个操作，全部放入数组中
5. 删除明确过时或矛盾的记忆
6. **多模态内容处理原则**：对于图片、音频、视频等多媒体内容，**禁止**仅凭用户上传行为就过度推断其兴趣/爱好。
   - 例如：用户发一张钓鱼图，除非用户明确表达"我喜欢钓鱼"，否则**不要**记录"用户喜欢钓鱼"，这可能是用户在询问这是什么鱼。
   - 只有当用户明确表达了与其相关的个人意图、态度或偏好时，才进行记忆。

## 示例
用户说"我叫张三，今年换了新工作"，且已有记忆"姓名：张三"：
[{"op":"create","memory":"最近换了新工作"}]`

	DefaultSessionSummaryPrompt = `# 会话摘要生成任务

## 目标
基于提供的对话历史，生成一份简洁而全面的会话摘要。

## 摘要要求
1. **简洁性**: 摘要应简明扼要，避免冗余信息
2. **全面性**: 涵盖对话的主要主题、关键信息和重要结论
3. **连贯性**: 保持逻辑清晰，便于理解对话脉络
4. **重点突出**: 着重记录用户的需求、问题解决过程和重要决策

## 摘要内容应包含
- **主要话题**: 对话涉及的核心主题
- **用户需求**: 用户提出的主要问题或需求
- **解决方案**: 提供的建议、方案或答案
- **关键信息**: 重要的事实、数据或结论
- **待解决问题**: 尚未完全解决的问题或后续计划

## 输出格式
直接输出摘要内容，无需其他格式标记。摘要应在150-300字之间。

## 注意事项
- 保持客观中立的语调
- 避免重复已有摘要中的信息（如果提供了现有摘要）
- 重点关注最新的对话内容
- 如果是延续性对话，应与之前的摘要形成连贯的整体
- **多模态内容处理原则**：对于图片、音频、视频等多媒体内容，客观描述其内容（如"用户上传了一张风景图"），但**不要**推断用户的意图或偏好（如"用户喜欢旅游"），除非用户明确说明。`

	DefaultIncrementalSessionSummaryPrompt = `# 增量摘要更新任务

## 目标
基于现有摘要和最新的对话内容，生成更新后的摘要。

## 更新原则
1. **保持连贯**: 确保新摘要与之前的内容逻辑连贯
2. **整合信息**: 将新对话的关键信息融入现有摘要
3. **避免重复**: 不要重复现有摘要中已包含的信息
4. **突出重点**: 重点关注新对话中的重要进展或变化
5. **多模态内容处理原则**：对于图片、音频、视频等多媒体内容，客观描述其内容并整合到摘要中，但**严禁**在没有明确证据的情况下推断用户的深层意图或个人喜好。

## 输出要求
直接输出更新后的完整摘要，保持在150-400字之间。`
)
